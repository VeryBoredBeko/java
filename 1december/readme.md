# Задание: Работа с классом `Object` и его методами

## Цель

Развить навыки работы с базовым классом `Object` в Java, научиться переопределять его методы, клонировать объекты, сравнивать их и использовать в коллекциях (`HashSet`, `HashMap`) для реальных задач.

---

## Условие

1. Создайте Java-проект и реализуйте следующие классы:

### 1. Класс `Book`

Поля:

* `title` (String) — название книги
* `author` (String) — автор
* `year` (int) — год издания
* `price` (double) — цена книги

Методы:

* Переопределите `toString()` для информативного вывода объекта.
* Переопределите `equals(Object o)` для сравнения книг по `title` и `author`.
* Переопределите `hashCode()` в соответствии с `equals()`.
* Реализуйте интерфейс `Cloneable` и метод `clone()`.

---

### 2. Класс `Library`

Поля:

* `books` — коллекция `HashSet<Book>`

Методы:

* `addBook(Book book)` — добавляет книгу в библиотеку (если её нет в коллекции).
* `removeBook(Book book)` — удаляет книгу.
* `findBook(String title, String author)` — ищет книгу и возвращает её объект.
* `listBooks()` — выводит все книги библиотеки с использованием `toString()`.
* `cloneLibrary()` — возвращает глубокую копию библиотеки (клонирование всех книг).

---

## Задания для выполнения

1. Создайте 5–7 объектов `Book` с разными данными, добавьте их в объект `Library`.
2. Проверьте корректность работы `equals()` и `hashCode()` при добавлении повторяющихся книг в `HashSet`.
3. Выведите все книги через метод `listBooks()`.
4. Создайте клон библиотеки через `cloneLibrary()` и измените одну книгу в клоне.

   * Проверьте, что изменения не затрагивают оригинальную библиотеку.
5. Реализуйте метод `compareBooks(Book b1, Book b2)`, который сравнивает книги по году издания и цене, возвращает наиболее “ценную” (новую и дорогую).
6. (Дополнительно) Создайте `HashMap<Book, Integer>`, где ключ — объект книги, значение — количество экземпляров. Используйте корректные `equals()` и `hashCode()`.

---

## Пример вывода

```
Все книги в библиотеке:
Book{title='Война и мир', author='Л. Толстой', year=1869, price=1200.0}
Book{title='Преступление и наказание', author='Ф. Достоевский', year=1866, price=900.0}
Book{title='Мастер и Маргарита', author='М. Булгаков', year=1967, price=1100.0}

Сравнение книг:
Более ценная книга: Мастер и Маргарита, 1967, 1100.0

Проверка клона:
Изменили цену книги в клоне.
Цена в оригинале: 1200.0
Цена в клоне: 1300.0
```

---

## Критерии оценки

1. Правильное переопределение методов `toString()`, `equals()`, `hashCode()`.
2. Корректная работа клонирования объектов (`clone()`).
3. Корректная работа коллекций (`HashSet`, `HashMap`) с объектами.
4. Реализация методов поиска и сравнения книг.
5. Чистота, читаемость кода и комментарии.

---
